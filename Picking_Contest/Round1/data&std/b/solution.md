显然，如果有解，每一行的元素之和应该是 $\frac{n^2(n^2+1)}{2n}$ 。

这个数很明显是一个整数，它可以化简为 $\frac{n(n^2+1)}{2}$ ，如果 $n$ 是奇数，那么 $n^2+1$ 是偶数；如果 $n$ 是偶数，显然可以被 $2$ 整除。

接下来问题转化为如何不使用重复的元素构造出 $n$ 个和为 $\frac{n(n^2+1)}{2}$ 的序列。

可以很容易想到，我们把 $1$ 到 $n^2$ 这 $n^2$ 个元素分成 $n$ 组，每次从每组中选择一个元素构造这个序列。

以 $n=3$ 为例，这些元素被分为
$$
[1,2,3] \ [4,5,6] \ [7,8,9]
$$